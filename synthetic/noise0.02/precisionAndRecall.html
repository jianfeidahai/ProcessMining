<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    let trace=['ABDCEGIJKM','ABCDEGMJKI','ACBDFGIHIJKM','ABCDEGIJKM','ACBDEGIHIJKM','ABCDEGIHIJKM','ACBDFGIJKM','ABCDFGIJKM','ABCDFGIHIJKM','ACBDEGIJKM'];
    let numOfTrace=[1,1,15,13,16,13,13,10,10,8];
    let P=0;
    let R=0;
    for (let i=0;i<trace.length;i++){
        let countOfP=0;
        let countOfR=0;
        let temp2=numOfTrace[i]/trace[i].length;
        for (let j=0;j<trace[i].length;j++){
            let arrr=enable('r',trace[i],j);
            let arrm=enable('m',trace[i],j);
            let temp1=jiaoJi(arrr,arrm);
            countOfP+=temp1.length/arrm.length;
            countOfR+=temp1.length/arrr.length;
        }
        P+=countOfP*temp2;
        R+=countOfR*temp2;
    }
    console.log('P',P/100);
    console.log('R',R/100);

    //task活动触发后，在模型中可激活的活动集合
    function enable(type,str,i){
        switch (str){
            case 'ABDCEGIJKM':
                switch (i){
                    case 0:
                        return ['A'];
                        break;
                    case 1:
                        switch (type){
                            case 'r':
                                return ['B','C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 2:
                        switch (type){
                            case 'r':
                                return ['C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 3:
                        switch (type){
                            case 'r':
                                return ['C','E','F'];
                                break;
                            case 'm':
                                return ['C','E'];
                                break;
                        }
                        break;
                    case 4:
                        switch (type){
                            case 'r':
                                return ['E','F','D'];
                                break;
                            case 'm':
                                return ['E','D'];
                                break;
                        }
                        break;
                    case 5:
                        switch (type){
                            case 'r':
                                return ['D','G'];
                                break;
                            case 'm':
                                return ['G','D'];
                                break;
                        }
                        break;
                    case 6:
                        switch (type){
                            case 'r':
                                return ['D','I'];
                                break;
                            case 'm':
                                return ['I','D'];
                                break;
                        }
                        break;
                    case 7:
                        switch (type){
                            case 'r':
                                return ['D','J','H'];
                                break;
                            case 'm':
                                return ['J','D','H'];
                                break;
                        }
                        break;
                    case 8:
                        switch (type){
                            case 'r':
                                return ['D','K'];
                                break;
                            case 'm':
                                return ['K','D'];
                                break;
                        }
                        break;
                    case 9:
                        switch (type){
                            case 'r':
                                return ['D','M'];
                                break;
                            case 'm':
                                return ['M','D'];
                                break;
                        }
                        break;
                }
                break;
            case 'ABCDEGMJKI':
                switch (i){
                    case 0:
                        return ['A'];
                        break;
                    case 1:
                        switch (type){
                            case 'r':
                                return ['B','C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 2:
                        switch (type){
                            case 'r':
                                return ['C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 3:
                        switch (type){
                            case 'r':
                                return ['D'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 4:
                        switch (type){
                            case 'r':
                                return ['E','F'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 5:
                        switch (type){
                            case 'r':
                                return ['G'];
                                break;
                            case 'm':
                                return ['G'];
                                break;
                        }
                        break;
                    case 6:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['I'];
                                break;
                        }
                        break;
                    case 7:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['I'];
                                break;
                        }
                        break;
                    case 8:
                        switch (type){
                            case 'r':
                                return ['I','K'];
                                break;
                            case 'm':
                                return ['K','I'];
                                break;
                        }
                        break;
                    case 9:
                        switch (type){
                            case 'r':
                                return ['I','M'];
                                break;
                            case 'm':
                                return ['M','I'];
                                break;
                        }
                        break;
                }
                break;
            case 'ACBDFGIHIJKM':
                switch (i){
                    case 0:
                        return ['A'];
                        break;
                    case 1:
                        switch (type){
                            case 'r':
                                return ['B','C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 2:
                        switch (type){
                            case 'r':
                                return ['B'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 3:
                        switch (type){
                            case 'r':
                                return ['D'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 4:
                        switch (type){
                            case 'r':
                                return ['E','F'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 5:
                        switch (type){
                            case 'r':
                                return ['G'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 6:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['I','E'];
                                break;
                        }
                        break;
                    case 7:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H','E'];
                                break;
                        }
                        break;
                    case 8:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['E','I'];
                                break;
                        }
                        break;
                    case 9:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H','E'];
                                break;
                        }
                        break;
                    case 10:
                        switch (type){
                            case 'r':
                                return ['K'];
                                break;
                            case 'm':
                                return ['K','E'];
                                break;
                        }
                        break;
                    case 11:
                        switch (type){
                            case 'r':
                                return ['M'];
                                break;
                            case 'm':
                                return ['M','E'];
                                break;
                        }
                        break;
                }
                break;
            case 'ABCDEGIJKM':
                switch (i){
                    case 0:
                        return ['A'];
                        break;
                    case 1:
                        switch (type){
                            case 'r':
                                return ['B','C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 2:
                        switch (type){
                            case 'r':
                                return ['C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 3:
                        switch (type){
                            case 'r':
                                return ['D'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 4:
                        switch (type){
                            case 'r':
                                return ['E','F'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 5:
                        switch (type){
                            case 'r':
                                return ['G'];
                                break;
                            case 'm':
                                return ['G'];
                                break;
                        }
                        break;
                    case 6:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['I'];
                                break;
                        }
                        break;
                    case 7:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H'];
                                break;
                        }
                        break;
                    case 8:
                        switch (type){
                            case 'r':
                                return ['K'];
                                break;
                            case 'm':
                                return ['K'];
                                break;
                        }
                        break;
                    case 9:
                        switch (type){
                            case 'r':
                                return ['M'];
                                break;
                            case 'm':
                                return ['M'];
                                break;
                        }
                        break;
                }
                break;
            case 'ACBDEGIHIJKM':
                switch (i){
                    case 0:
                        return ['A'];
                        break;
                    case 1:
                        switch (type){
                            case 'r':
                                return ['B','C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 2:
                        switch (type){
                            case 'r':
                                return ['B'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 3:
                        switch (type){
                            case 'r':
                                return ['D'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 4:
                        switch (type){
                            case 'r':
                                return ['E','F'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 5:
                        switch (type){
                            case 'r':
                                return ['G'];
                                break;
                            case 'm':
                                return ['G'];
                                break;
                        }
                        break;
                    case 6:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['I'];
                                break;
                        }
                        break;
                    case 7:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H'];
                                break;
                        }
                        break;
                    case 8:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 9:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H'];
                                break;
                        }
                        break;
                    case 10:
                        switch (type){
                            case 'r':
                                return ['K'];
                                break;
                            case 'm':
                                return ['K'];
                                break;
                        }
                        break;
                    case 11:
                        switch (type){
                            case 'r':
                                return ['M'];
                                break;
                            case 'm':
                                return ['M'];
                                break;
                        }
                        break;
                }
                break;
            case 'ABCDEGIHIJKM':
                switch (i){
                    case 0:
                        return ['A'];
                        break;
                    case 1:
                        switch (type){
                            case 'r':
                                return ['B','C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 2:
                        switch (type){
                            case 'r':
                                return ['C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 3:
                        switch (type){
                            case 'r':
                                return ['D'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 4:
                        switch (type){
                            case 'r':
                                return ['E','F'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 5:
                        switch (type){
                            case 'r':
                                return ['G'];
                                break;
                            case 'm':
                                return ['G'];
                                break;
                        }
                        break;
                    case 6:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['I'];
                                break;
                        }
                        break;
                    case 7:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H'];
                                break;
                        }
                        break;
                    case 8:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 9:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H'];
                                break;
                        }
                        break;
                    case 10:
                        switch (type){
                            case 'r':
                                return ['K'];
                                break;
                            case 'm':
                                return ['K'];
                                break;
                        }
                        break;
                    case 11:
                        switch (type){
                            case 'r':
                                return ['M'];
                                break;
                            case 'm':
                                return ['M'];
                                break;
                        }
                        break;
                }
                break;
            case 'ACBDFGIJKM':
                switch (i){
                    case 0:
                        return ['A'];
                        break;
                    case 1:
                        switch (type){
                            case 'r':
                                return ['B','C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 2:
                        switch (type){
                            case 'r':
                                return ['B'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 3:
                        switch (type){
                            case 'r':
                                return ['D'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 4:
                        switch (type){
                            case 'r':
                                return ['E','F'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 5:
                        switch (type){
                            case 'r':
                                return ['G'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 6:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['I','E'];
                                break;
                        }
                        break;
                    case 7:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H','E'];
                                break;
                        }
                        break;
                    case 8:
                        switch (type){
                            case 'r':
                                return ['K'];
                                break;
                            case 'm':
                                return ['K','E'];
                                break;
                        }
                        break;
                    case 9:
                        switch (type){
                            case 'r':
                                return ['M'];
                                break;
                            case 'm':
                                return ['M','E'];
                                break;
                        }
                        break;
                }
                break;
            case 'ABCDFGIJKM':
                switch (i){
                    case 0:
                        return ['A'];
                        break;
                    case 1:
                        switch (type){
                            case 'r':
                                return ['B','C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 2:
                        switch (type){
                            case 'r':
                                return ['C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 3:
                        switch (type){
                            case 'r':
                                return ['D'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 4:
                        switch (type){
                            case 'r':
                                return ['E','F'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 5:
                        switch (type){
                            case 'r':
                                return ['G'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 6:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['I','E'];
                                break;
                        }
                        break;
                    case 7:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H','E'];
                                break;
                        }
                        break;
                    case 8:
                        switch (type){
                            case 'r':
                                return ['K'];
                                break;
                            case 'm':
                                return ['K','E'];
                                break;
                        }
                        break;
                    case 9:
                        switch (type){
                            case 'r':
                                return ['M'];
                                break;
                            case 'm':
                                return ['M','E'];
                                break;
                        }
                        break;
                }
                break;
            case 'ABCDFGIHIJKM':
                switch (i){
                    case 0:
                        return ['A'];
                        break;
                    case 1:
                        switch (type){
                            case 'r':
                                return ['B','C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 2:
                        switch (type){
                            case 'r':
                                return ['C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 3:
                        switch (type){
                            case 'r':
                                return ['D'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 4:
                        switch (type){
                            case 'r':
                                return ['E','F'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 5:
                        switch (type){
                            case 'r':
                                return ['G'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 6:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['I','E'];
                                break;
                        }
                        break;
                    case 7:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H','E'];
                                break;
                        }
                        break;
                    case 8:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['I','E'];
                                break;
                        }
                        break;
                    case 9:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H','E'];
                                break;
                        }
                        break;
                    case 10:
                        switch (type){
                            case 'r':
                                return ['K'];
                                break;
                            case 'm':
                                return ['K','E'];
                                break;
                        }
                        break;
                    case 11:
                        switch (type){
                            case 'r':
                                return ['M'];
                                break;
                            case 'm':
                                return ['M','E'];
                                break;
                        }
                        break;
                }
                break;
            case 'ACBDEGIJKM':
                switch (i){
                    case 0:
                        return ['A'];
                        break;
                    case 1:
                        switch (type){
                            case 'r':
                                return ['B','C'];
                                break;
                            case 'm':
                                return ['C'];
                                break;
                        }
                        break;
                    case 2:
                        switch (type){
                            case 'r':
                                return ['B'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 3:
                        switch (type){
                            case 'r':
                                return ['D'];
                                break;
                            case 'm':
                                return ['D'];
                                break;
                        }
                        break;
                    case 4:
                        switch (type){
                            case 'r':
                                return ['E','F'];
                                break;
                            case 'm':
                                return ['E'];
                                break;
                        }
                        break;
                    case 5:
                        switch (type){
                            case 'r':
                                return ['G'];
                                break;
                            case 'm':
                                return ['G'];
                                break;
                        }
                        break;
                    case 6:
                        switch (type){
                            case 'r':
                                return ['I'];
                                break;
                            case 'm':
                                return ['I'];
                                break;
                        }
                        break;
                    case 7:
                        switch (type){
                            case 'r':
                                return ['J','H'];
                                break;
                            case 'm':
                                return ['J','H'];
                                break;
                        }
                        break;
                    case 8:
                        switch (type){
                            case 'r':
                                return ['K'];
                                break;
                            case 'm':
                                return ['K'];
                                break;
                        }
                        break;
                    case 9:
                        switch (type){
                            case 'r':
                                return ['M'];
                                break;
                            case 'm':
                                return ['M'];
                                break;
                        }
                        break;
                }
                break;
        }

    }

    function jiaoJi(arr1,arr2) {
        let result=[];
        arr1.forEach(item=>{
            if (arr2.indexOf(item)!==-1){
                result.push(item);
            }
        });
        return result;
    }

</script>
</body>
</html>